## 环境准备

### 系统环境准备

目前测试环境为：

- Ubuntu 16.04 / MacOS 10.15 

### 环境准备

以下均使用 cita 测试网 https://testnet.citahub.com 来测试合约的部署和调用流程。

1. 安装 cita-cli
到网站 https://github.com/citahub/cita-cli/releases 下载安装 cita-cli。

2. 生成 account
```
./cita-cli key create > key.json
cat key.json
```
返回
```
{
  "address": "0x51b53602bf8ecaef55239fc6d3d2b20379253fb3",
  "private": "0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1",
  "public": "0x85e2314742a0f83144a3cd7f37885b9e5fe1957f88bf16f89cea89f3230a3f100be356babb9f9d828b0c49a100c840c5d24e7a43c9058aa1380b3ad218e7cff9"
}
```

3. 申请测试币
到网站 https://faucet.citahub.com/faucet/getNos 申请测试币

4. 查询账户余额
```
./cita-cli rpc getBalance \
--address 0x51b53602bf8ecaef55239fc6d3d2b20379253fb3 \
--url https://testnet.citahub.com
```
返回
```
{
  "id": 1,
  "jsonrpc": "2.0",
  "result": "0x65a4d9e22ee90e2b600"
}
```

### 编译合约

1. 进入到smart-audit源码文件下，然后进入到`src/cita`子目录。

2. 编译 FaceService.sol:

   ```shell
   solc oracles/face/FaceService.sol --bin
   ```
   返回:
   ```
   ======= oracles/face/FaceService.sol:FaceService =======
   Binary:
   6080604(此处略)
   ```

3. 编译 TimeService.sol:

   ```shell
   solc oracles/time/TimeService.sol --bin
   ```
   返回：
   ```
   ======= oracles/time/TimeService.sol:TimeService =======
   Binary:
   6080604(此处略)
   ```

4. 编译 IdentifyService.sol:

   ```shell
   solc oracles/identify/IdentifyService.sol --bin
   ```
   返回:
   ```
   ======= oracles/identify/IdentifyService.sol:IdentifyService =======
   Binary:
   6080604(此处略)
   ```

5. 编译 LocationService.sol:

   ```shell
   solc oracles/location/LocationService.sol --bin
   ```
   返回:
   ```
   ======= oracles/location/LocationService.sol:LocationService =======
   Binary:
   6080604(此处略)
   ```

6. 编译 audit.sol:

   ```
   ======= audit/audit.sol:Audit =======
   Binary:
   6080604(此处略)
   ```

### 部署合约

#### 部署时间合约

通过如下命令部署合约

   ```shell
   ./cita-cli rpc sendRawTransaction \
    --code 0x608060405234801561001057600080fd5b50610431806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632ae64bb7146100515780639fd32a3a1461008e575b600080fd5b34801561005d57600080fd5b5061007860048036036100739190810190610231565b6100b7565b604051610085919061032c565b60405180910390f35b34801561009a57600080fd5b506100b560048036036100b09190810190610272565b610107565b005b60008082511115156100fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f59061030c565b60405180910390fd5b60009050919050565b6000815111151561014d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101449061030c565b60405180910390fd5b5050565b600082601f830112151561016457600080fd5b813561017761017282610374565b610347565b9150818183526020840193506020810190508360005b838110156101bd57813586016101a388826101c7565b84526020840193506020830192505060018101905061018d565b5050505092915050565b600082601f83011215156101da57600080fd5b81356101ed6101e88261039c565b610347565b9150808252602083016020830185838301111561020957600080fd5b6102148382846103e8565b50505092915050565b600061022982356103d8565b905092915050565b60006020828403121561024357600080fd5b600082013567ffffffffffffffff81111561025d57600080fd5b61026984828501610151565b91505092915050565b6000806040838503121561028557600080fd5b60006102938582860161021d565b925050602083013567ffffffffffffffff8111156102b057600080fd5b6102bc85828601610151565b9150509250929050565b6000601e82527fe6b3a8e5868ce8a784e58899e68980e99c80e58f82e695b0e4b88de8b6b300006020830152604082019050919050565b610306816103c8565b82525050565b60006020820190508181036000830152610325816102c6565b9050919050565b600060208201905061034160008301846102fd565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561036a57600080fd5b8060405250919050565b600067ffffffffffffffff82111561038b57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156103b357600080fd5b601f19601f8301169050602081019050919050565b600063ffffffff82169050919050565b600063ffffffff82169050919050565b828183376000838301525050505600a265627a7a7230582019d038118c714985c7a61074130eecc8cb35f3bec14a915f0d83f7b6da2acd146c6578706572696d656e74616cf50037 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
   ```

   返回：
   ```shell
   {
      "id": 4,
      "jsonrpc": "2.0",
      "result": {
         "hash": "0xac63ddfd47ce752286ef110a9402f011245d9e5211bad710ee0c0e400f185b0a",
         "status": "OK"
      }
   }
   ```

   获取合约地址：
   ```
   ./cita-cli rpc getTransactionReceipt \
      --hash 0xac63ddfd47ce752286ef110a9402f011245d9e5211bad710ee0c0e400f185b0a \
      --url https://testnet.citahub.com
   ```

   得到合约地址：0x568eae6fcac7c10bfd5258730cd20b0ed90dbc60


#### 部署定位合约

通过如下命令部署合约

   ```shell
   ./cita-cli rpc sendRawTransaction \
      --code 0x608060405234801561001057600080fd5b50610431806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632ae64bb7146100515780639fd32a3a1461008e575b600080fd5b34801561005d57600080fd5b5061007860048036036100739190810190610231565b6100b7565b604051610085919061032c565b60405180910390f35b34801561009a57600080fd5b506100b560048036036100b09190810190610272565b610107565b005b60008082511115156100fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f59061030c565b60405180910390fd5b60009050919050565b6000815111151561014d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101449061030c565b60405180910390fd5b5050565b600082601f830112151561016457600080fd5b813561017761017282610374565b610347565b9150818183526020840193506020810190508360005b838110156101bd57813586016101a388826101c7565b84526020840193506020830192505060018101905061018d565b5050505092915050565b600082601f83011215156101da57600080fd5b81356101ed6101e88261039c565b610347565b9150808252602083016020830185838301111561020957600080fd5b6102148382846103e8565b50505092915050565b600061022982356103d8565b905092915050565b60006020828403121561024357600080fd5b600082013567ffffffffffffffff81111561025d57600080fd5b61026984828501610151565b91505092915050565b6000806040838503121561028557600080fd5b60006102938582860161021d565b925050602083013567ffffffffffffffff8111156102b057600080fd5b6102bc85828601610151565b9150509250929050565b6000601e82527fe6b3a8e5868ce8a784e58899e68980e99c80e58f82e695b0e4b88de8b6b300006020830152604082019050919050565b610306816103c8565b82525050565b60006020820190508181036000830152610325816102c6565b9050919050565b600060208201905061034160008301846102fd565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561036a57600080fd5b8060405250919050565b600067ffffffffffffffff82111561038b57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156103b357600080fd5b601f19601f8301169050602081019050919050565b600063ffffffff82169050919050565b600063ffffffff82169050919050565b828183376000838301525050505600a265627a7a72305820f33a651b0e72d5ff19c0121cb396365acec9116500d394b377123959dfd3432d6c6578706572696d656e74616cf50037 \
      --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
      --url https://testnet.citahub.com
   ```

   返回：
   ```shell
   {
      "id": 4,
      "jsonrpc": "2.0",
      "result": {
         "hash": "0xe9e015f39435c49d0b6daa8b24da757a1fef25bb63fc603b7e023ee373bb3711",
         "status": "OK"
      }
   }
   ```

   获取合约地址：
   ```
   ./cita-cli rpc getTransactionReceipt \
      --hash 0xe9e015f39435c49d0b6daa8b24da757a1fef25bb63fc603b7e023ee373bb3711 \
      --url https://testnet.citahub.com
   ```

   得到合约地址：0x4254d2c7cd741ab3ff4b4c3ce97caed642be6bef

#### 部署人脸识别合约

通过如下命令部署合约

   ```shell
   ./cita-cli rpc sendRawTransaction \
    --code 0x608060405234801561001057600080fd5b50610431806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632ae64bb7146100515780639fd32a3a1461008e575b600080fd5b34801561005d57600080fd5b5061007860048036036100739190810190610231565b6100b7565b604051610085919061032c565b60405180910390f35b34801561009a57600080fd5b506100b560048036036100b09190810190610272565b610107565b005b60008082511115156100fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f59061030c565b60405180910390fd5b60009050919050565b6000815111151561014d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101449061030c565b60405180910390fd5b5050565b600082601f830112151561016457600080fd5b813561017761017282610374565b610347565b9150818183526020840193506020810190508360005b838110156101bd57813586016101a388826101c7565b84526020840193506020830192505060018101905061018d565b5050505092915050565b600082601f83011215156101da57600080fd5b81356101ed6101e88261039c565b610347565b9150808252602083016020830185838301111561020957600080fd5b6102148382846103e8565b50505092915050565b600061022982356103d8565b905092915050565b60006020828403121561024357600080fd5b600082013567ffffffffffffffff81111561025d57600080fd5b61026984828501610151565b91505092915050565b6000806040838503121561028557600080fd5b60006102938582860161021d565b925050602083013567ffffffffffffffff8111156102b057600080fd5b6102bc85828601610151565b9150509250929050565b6000601e82527fe6b3a8e5868ce8a784e58899e68980e99c80e58f82e695b0e4b88de8b6b300006020830152604082019050919050565b610306816103c8565b82525050565b60006020820190508181036000830152610325816102c6565b9050919050565b600060208201905061034160008301846102fd565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561036a57600080fd5b8060405250919050565b600067ffffffffffffffff82111561038b57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156103b357600080fd5b601f19601f8301169050602081019050919050565b600063ffffffff82169050919050565b600063ffffffff82169050919050565b828183376000838301525050505600a265627a7a723058200b938639cb27ee211188802626294bfd0d77bfe305c3eb77d279667dd2eb9f916c6578706572696d656e74616cf50037 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
   ```

   返回：
   ```
   {
      "id": 4,
      "jsonrpc": "2.0",
      "result": {
         "hash": "0x0d0faedb62523ef3bd8c6ff74da2c228ddf7dd71f0e27583a4424809b5e4f773",
         "status": "OK"
      }
   }
   ```

   查询合约地址：
   ```
   ./cita-cli rpc getTransactionReceipt \
      --hash 0x0d0faedb62523ef3bd8c6ff74da2c228ddf7dd71f0e27583a4424809b5e4f773 \
      --url https://testnet.citahub.com
   ```

   得到合约地址：0xfd851fbbb503cf9a0d6f0a6b5b7db073ddbc5daf

#### 部署物体识别合约

通过如下命令部署合约

   ```shell
   ./cita-cli rpc sendRawTransaction \
      --code 0x608060405234801561001057600080fd5b50610431806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632ae64bb7146100515780639fd32a3a1461008e575b600080fd5b34801561005d57600080fd5b5061007860048036036100739190810190610231565b6100b7565b604051610085919061032c565b60405180910390f35b34801561009a57600080fd5b506100b560048036036100b09190810190610272565b610107565b005b60008082511115156100fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f59061030c565b60405180910390fd5b60009050919050565b6000815111151561014d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101449061030c565b60405180910390fd5b5050565b600082601f830112151561016457600080fd5b813561017761017282610374565b610347565b9150818183526020840193506020810190508360005b838110156101bd57813586016101a388826101c7565b84526020840193506020830192505060018101905061018d565b5050505092915050565b600082601f83011215156101da57600080fd5b81356101ed6101e88261039c565b610347565b9150808252602083016020830185838301111561020957600080fd5b6102148382846103e8565b50505092915050565b600061022982356103d8565b905092915050565b60006020828403121561024357600080fd5b600082013567ffffffffffffffff81111561025d57600080fd5b61026984828501610151565b91505092915050565b6000806040838503121561028557600080fd5b60006102938582860161021d565b925050602083013567ffffffffffffffff8111156102b057600080fd5b6102bc85828601610151565b9150509250929050565b6000601e82527fe6b3a8e5868ce8a784e58899e68980e99c80e58f82e695b0e4b88de8b6b300006020830152604082019050919050565b610306816103c8565b82525050565b60006020820190508181036000830152610325816102c6565b9050919050565b600060208201905061034160008301846102fd565b92915050565b6000604051905081810181811067ffffffffffffffff8211171561036a57600080fd5b8060405250919050565b600067ffffffffffffffff82111561038b57600080fd5b602082029050602081019050919050565b600067ffffffffffffffff8211156103b357600080fd5b601f19601f8301169050602081019050919050565b600063ffffffff82169050919050565b600063ffffffff82169050919050565b828183376000838301525050505600a265627a7a72305820818617f5b35fb7295de96954b04c83411394c4b5dea4f0b894eea8372e8e27926c6578706572696d656e74616cf50037 \
      --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
      --url https://testnet.citahub.com
   ```

   返回：
   ```shell
   {
      "id": 4,
      "jsonrpc": "2.0",
      "result": {
         "hash": "0x71b1feaf3cf2c15e4f17112048f64421535354e9ef3169138d2459d50d25d4ad",
         "status": "OK"
      }
   }
   ```

   获取合约地址：
   ```
   ./cita-cli rpc getTransactionReceipt \
      --hash 0x71b1feaf3cf2c15e4f17112048f64421535354e9ef3169138d2459d50d25d4ad \
      --url https://testnet.citahub.com
   ```

   得到合约地址：0x47417dd1835f07a06ad93b4a262a7dd75b7cd550

#### 部署审计业务合约

  部署审计业务合约需要的参数：
  ```
    /// @dev 规则合约的构造方法，这里实现Rules.
    /// @param names 维护人列表.
    /// @param face 人脸识别服务合约地址.
    /// @param identify 物体识别服务合约地址.
    /// @param time 时间服务合约地址.
    /// @param location 定位服务合约地址.
    constructor(
        string[] names,
        address face,
        address identify,
        address time,
        address location
    ) Rules (face, identify, time, location) {
        numMaintainers = uint32(names.length);
        for (uint i = 0; i < numMaintainers; i++) {
            maintainers[uint32(i)] = names[i];
        }
    }
  ```

   获取维护人列表abi：
   ```
   ./cita-cli ethabi encode params --param string alice
   ```
   返回："00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000005616c696365000000000000000000000000000000000000000000000000000000"

   ```
   ./cita-cli ethabi encode params --param string bob
   ```
   返回："00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003626f620000000000000000000000000000000000000000000000000000000000"

   获取时间识别合约地址abi：
   ```
   ./cita-cli ethabi encode params --param address 568eae6fcac7c10bfd5258730cd20b0ed90dbc60
   ```
   返回："000000000000000000000000568eae6fcac7c10bfd5258730cd20b0ed90dbc60"

   获取定位识别合约地址abi：
   ```
   ./cita-cli ethabi encode params --param address 4254d2c7cd741ab3ff4b4c3ce97caed642be6bef
   ```
   返回："0000000000000000000000004254d2c7cd741ab3ff4b4c3ce97caed642be6bef"

   获取人脸识别合约地址abi：
   ```
   ./cita-cli ethabi encode params --param address fd851fbbb503cf9a0d6f0a6b5b7db073ddbc5daf
   ```
   返回："000000000000000000000000fd851fbbb503cf9a0d6f0a6b5b7db073ddbc5daf"

   获取物体识别合约地址abi：
   ```
   ./cita-cli ethabi encode params --param address 47417dd1835f07a06ad93b4a262a7dd75b7cd550
   ```
   返回："00000000000000000000000047417dd1835f07a06ad93b4a262a7dd75b7cd550"

将以上合约作为参数，附在审计合约后面，部署审计合约：
```
./cita-cli rpc sendRawTransaction \
    --code 0x60806040523480156200001157600080fd5b5060405162002ada38038062002ada8339810180604052620000379190810190620003b8565b600084848484836000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555082600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600360146101000a81548163ffffffff021916908363ffffffff160217905550505050508551600760006101000a81548163ffffffff021916908363ffffffff160217905550600090505b600760009054906101000a900463ffffffff1663ffffffff168110156200020a578581815181101515620001bd57fe5b90602001906020020151600860008363ffffffff1663ffffffff1681526020019081526020016000209080519060200190620001fb92919062000216565b5080806001019150506200018d565b5050505050506200052d565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200025957805160ff19168380011785556200028a565b828001600101855582156200028a579182015b82811115620002895782518255916020019190600101906200026c565b5b5090506200029991906200029d565b5090565b620002c291905b80821115620002be576000816000905550600101620002a4565b5090565b90565b6000620002d38251620004d7565b905092915050565b600082601f8301121515620002ef57600080fd5b815162000306620003008262000481565b62000453565b9150818183526020840193506020810190508360005b838110156200035057815186016200033588826200035a565b8452602084019350602083019250506001810190506200031c565b5050505092915050565b600082601f83011215156200036e57600080fd5b8151620003856200037f82620004aa565b62000453565b91508082526020830160208301858383011115620003a257600080fd5b620003af838284620004f7565b50505092915050565b600080600080600060a08688031215620003d157600080fd5b600086015167ffffffffffffffff811115620003ec57600080fd5b620003fa88828901620002db565b95505060206200040d88828901620002c5565b94505060406200042088828901620002c5565b93505060606200043388828901620002c5565b92505060806200044688828901620002c5565b9150509295509295909350565b6000604051905081810181811067ffffffffffffffff821117156200047757600080fd5b8060405250919050565b600067ffffffffffffffff8211156200049957600080fd5b602082029050602081019050919050565b600067ffffffffffffffff821115620004c257600080fd5b601f19601f8301169050602081019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60005b8381101562000517578082015181840152602081019050620004fa565b8381111562000527576000848401525b50505050565b61259d806200053d6000396000f3006080604052600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806304536686146100a957806341ce8235146100d25780637ee57bdd1461010f5780638206d49f1461014c5780638604844f146101895780639982924c146101b2578063bed34bba146101ef578063d17f42251461022c578063e7e4cfb714610257578063fef6d44414610280575b600080fd5b3480156100b557600080fd5b506100d060048036036100cb9190810190611f94565b6102a9565b005b3480156100de57600080fd5b506100f960048036036100f49190810190611fe8565b6103fd565b6040516101069190612292565b60405180910390f35b34801561011b57600080fd5b5061013660048036036101319190810190611dc1565b610523565b6040516101439190612373565b60405180910390f35b34801561015857600080fd5b50610173600480360361016e9190810190611f42565b61072b565b6040516101809190612351565b60405180910390f35b34801561019557600080fd5b506101b060048036036101ab9190810190611eaf565b6108f5565b005b3480156101be57600080fd5b506101d960048036036101d49190810190611f42565b610ab0565b6040516101e691906122cf565b60405180910390f35b3480156101fb57600080fd5b5061021660048036036102119190810190611e43565b610b71565b60405161022391906122b4565b60405180910390f35b34801561023857600080fd5b50610241610d22565b60405161024e9190612292565b60405180910390f35b34801561026357600080fd5b5061027e60048036036102799190810190612024565b610e8f565b005b34801561028c57600080fd5b506102a760048036036102a29190810190611e02565b610f4a565b005b60606000806000806102ba86611017565b9450600460008863ffffffff1663ffffffff1681526020019081526020016000209350600092505b84518363ffffffff1610156103f457848363ffffffff1681518110151561030557fe5b9060200190602002015160000151915083600101600083600481111561032757fe5b63ffffffff1663ffffffff16815260200190815260200160002060009054906101000a900463ffffffff1690507fe8f5ffaebf076bf3e35b8495c096da2aedf566fdb11fa840ae57277e67b3e93782600481111561038157fe5b82878663ffffffff1681518110151561039657fe5b90602001906020020151602001516040516103b3939291906123be565b60405180910390a16103e78282878663ffffffff168151811015156103d457fe5b9060200190602002015160200151611186565b82806001019350506102e2565b50505050505050565b6060600b60008463ffffffff1663ffffffff16815260200190815260200160002060008363ffffffff1663ffffffff168152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015610517578382906000526020600020018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105035780601f106104d857610100808354040283529160200191610503565b820191906000526020600020905b8154815290600101906020018083116104e657829003601f168201915b50505050508152602001906001019061045b565b50505050905092915050565b60008060606000806000610536876113d8565b8095508196505050848360000160006101000a81548160ff0219169083600381111561055e57fe5b0217905550600091505b83518263ffffffff16101561063e576105c3848363ffffffff1681518110151561058e57fe5b9060200190602002015160000151858463ffffffff168151811015156105b057fe5b9060200190602002015160200151611558565b905080836001016000868563ffffffff168151811015156105e057fe5b906020019060200201516000015160048111156105f957fe5b63ffffffff1663ffffffff16815260200190815260200160002060006101000a81548163ffffffff021916908363ffffffff1602179055508180600101925050610568565b600360149054906101000a900463ffffffff16955082600460008863ffffffff1663ffffffff1681526020019081526020016000206000820160009054906101000a900460ff168160000160006101000a81548160ff021916908360038111156106a457fe5b02179055509050506003601481819054906101000a900463ffffffff168092919060010191906101000a81548163ffffffff021916908363ffffffff160217905550507fd7576af0064f73ee557f2476f78be8bd967e2e0182e73c61fd818e79d1d9d6d8866040516107169190612373565b60405180910390a18595505050505050919050565b6107336119ff565b600a60008363ffffffff1663ffffffff16815260200190815260200160002060806040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107f75780601f106107cc576101008083540402835291602001916107f7565b820191906000526020600020905b8154815290600101906020018083116107da57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108995780601f1061086e57610100808354040283529160200191610899565b820191906000526020600020905b81548152906001019060200180831161087c57829003601f168201915b505050505081526020016002820160009054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020016002820160049054906101000a900463ffffffff1663ffffffff1663ffffffff16815250509050919050565b600080600660008563ffffffff1663ffffffff1681526020019081526020016000209150600460008463ffffffff1663ffffffff16815260200190815260200160002090506009600081819054906101000a900463ffffffff168092919060010191906101000a81548163ffffffff021916908363ffffffff160217905550506080604051908101604052808781526020018681526020018563ffffffff1681526020018463ffffffff16815250600a6000600960009054906101000a900463ffffffff1663ffffffff1663ffffffff16815260200190815260200160002060008201518160000190805190602001906109f0929190611a34565b506020820151816001019080519060200190610a0d929190611a34565b5060408201518160020160006101000a81548163ffffffff021916908363ffffffff16021790555060608201518160020160046101000a81548163ffffffff021916908363ffffffff1602179055509050507f85318a464ad3fe68bf958a2c6da7b8cf5078b07ee7fdc84dd31781c7709ecdc7600960009054906101000a900463ffffffff16604051610aa09190612373565b60405180910390a1505050505050565b6060600660008363ffffffff1663ffffffff1681526020019081526020016000208054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b655780601f10610b3a57610100808354040283529160200191610b65565b820191906000526020600020905b815481529060010190602001808311610b4857829003601f168201915b50505050509050919050565b6000816040516020018082805190602001908083835b602083101515610bac5780518252602082019150602081019050602083039250610b87565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515610c155780518252602082019150602081019050602083039250610bf0565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916836040516020018082805190602001908083835b602083101515610c7f5780518252602082019150602081019050602083039250610c5a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515610ce85780518252602082019150602081019050602083039250610cc3565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614905092915050565b6060806000600760009054906101000a900463ffffffff1663ffffffff16604051908082528060200260200182016040528015610d7357816020015b6060815260200190600190039081610d5e5790505b509150600090505b600760009054906101000a900463ffffffff1663ffffffff168163ffffffff161015610e8757600860008263ffffffff1663ffffffff1681526020019081526020016000208054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e545780601f10610e2957610100808354040283529160200191610e54565b820191906000526020600020905b815481529060010190602001808311610e3757829003601f168201915b5050505050828263ffffffff16815181101515610e6d57fe5b906020019060200201819052508080600101915050610d7b565b819250505090565b600080600660008663ffffffff1663ffffffff1681526020019081526020016000209150600a60008563ffffffff1663ffffffff1681526020019081526020016000209050610ef28160020160049054906101000a900463ffffffff16846102a9565b82600b60008763ffffffff1663ffffffff16815260200190815260200160002060008663ffffffff1663ffffffff1681526020019081526020016000209080519060200190610f42929190611ab4565b505050505050565b6005600081819054906101000a900463ffffffff168092919060010191906101000a81548163ffffffff021916908363ffffffff160217905550508060066000600560009054906101000a900463ffffffff1663ffffffff1663ffffffff1681526020019081526020016000209080519060200190610fca929190611b14565b507fae25851acf0995f0d20e1a764c91e497e4bd808492e4a63546eda9ce4915735c600560009054906101000a900463ffffffff1660405161100c9190612373565b60405180910390a150565b606060008060006002855181151561102b57fe5b0460405190808252806020026020018201604052801561106557816020015b611052611b94565b81526020019060019003908161104a5790505b50935060009250600091505b84516001830163ffffffff16101561117b576110a9858363ffffffff1681518110151561109a57fe5b906020019060200201516117cc565b9050600060048111156110b857fe5b8160048111156110c457fe5b14151515611107576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110fe90612311565b60405180910390fd5b604080519081016040528082600481111561111e57fe5b8152602001866001850163ffffffff1681518110151561113a57fe5b90602001906020020151815250848463ffffffff1681518110151561115b57fe5b906020019060200201819052508280600101935050600282019150611071565b839350505050919050565b600060606003600481111561119757fe5b8560048111156111a357fe5b14156111d2576000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506112f3565b6004808111156111de57fe5b8560048111156111ea57fe5b141561121a57600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506112f2565b6001600481111561122757fe5b85600481111561123357fe5b141561126357600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506112f1565b6002600481111561127057fe5b85600481111561127c57fe5b14156112ac57600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506112f0565b600015156112ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112e6906122f1565b60405180910390fd5b5b5b5b5b600160405190808252806020026020018201604052801561132857816020015b60608152602001906001900390816113135790505b5090508281600081518110151561133b57fe5b906020019060200201819052508173ffffffffffffffffffffffffffffffffffffffff16639fd32a3a85836040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161139f92919061238e565b600060405180830381600087803b1580156113b957600080fd5b505af11580156113cd573d6000803e3d6000fd5b505050505050505050565b600060606000806000808651111515611426576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161141d90612331565b60405180910390fd5b61144786600081518110151561143857fe5b9060200190602002015161190c565b94506002865181151561145657fe5b0460405190808252806020026020018201604052801561149057816020015b61147d611bb9565b8152602001906001900390816114755790505b50935060009250600191505b85516001830163ffffffff16101561154a576114d4868363ffffffff168151811015156114c557fe5b906020019060200201516117cc565b905060408051908101604052808260048111156114ed57fe5b8152602001876001850163ffffffff1681518110151561150957fe5b90602001906020020151815250848463ffffffff1681518110151561152a57fe5b90602001906020020181905250828060010193505060028201915061149c565b848494509450505050915091565b60008060606003600481111561156a57fe5b85600481111561157657fe5b14156115a5576000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506116c6565b6004808111156115b157fe5b8560048111156115bd57fe5b14156115ed57600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506116c5565b600160048111156115fa57fe5b85600481111561160657fe5b141561163657600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506116c4565b6002600481111561164357fe5b85600481111561164f57fe5b141561167f57600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506116c3565b600015156116c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116b9906122f1565b60405180910390fd5b5b5b5b5b60016040519080825280602002602001820160405280156116fb57816020015b60608152602001906001900390816116e65790505b5090508381600081518110151561170e57fe5b906020019060200201819052508173ffffffffffffffffffffffffffffffffffffffff16632ae64bb7826040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016117709190612292565b602060405180830381600087803b15801561178a57600080fd5b505af115801561179e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506117c29190810190611f6b565b9250505092915050565b600061180d826040805190810160405280600481526020017f54696d6500000000000000000000000000000000000000000000000000000000815250610b71565b1561181b5760019050611907565b61185a826040805190810160405280600881526020017f4c6f636174696f6e000000000000000000000000000000000000000000000000815250610b71565b156118685760029050611907565b6118a7826040805190810160405280600d81526020017f466163655265636f676e697a6500000000000000000000000000000000000000815250610b71565b156118b55760039050611907565b6118f4826040805190810160405280600f81526020017f4f626a6563745265636f676e697a650000000000000000000000000000000000815250610b71565b156119025760049050611907565b600090505b919050565b600061194d826040805190810160405280600381526020017f414e440000000000000000000000000000000000000000000000000000000000815250610b71565b1561195b57600290506119fa565b61199a826040805190810160405280600281526020017f4f52000000000000000000000000000000000000000000000000000000000000815250610b71565b156119a857600390506119fa565b6119e7826040805190810160405280600381526020017f4e4f540000000000000000000000000000000000000000000000000000000000815250610b71565b156119f557600190506119fa565b600090505b919050565b6080604051908101604052806060815260200160608152602001600063ffffffff168152602001600063ffffffff1681525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611a7557805160ff1916838001178555611aa3565b82800160010185558215611aa3579182015b82811115611aa2578251825591602001919060010190611a87565b5b509050611ab09190611bde565b5090565b828054828255906000526020600020908101928215611b03579160200282015b82811115611b02578251829080519060200190611af2929190611a34565b5091602001919060010190611ad4565b5b509050611b109190611c03565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611b5557805160ff1916838001178555611b83565b82800160010185558215611b83579182015b82811115611b82578251825591602001919060010190611b67565b5b509050611b909190611bde565b5090565b604080519081016040528060006004811115611bac57fe5b8152602001606081525090565b604080519081016040528060006004811115611bd157fe5b8152602001606081525090565b611c0091905b80821115611bfc576000816000905550600101611be4565b5090565b90565b611c2c91905b80821115611c285760008181611c1f9190611c2f565b50600101611c09565b5090565b90565b50805460018160011615610100020316600290046000825580601f10611c555750611c74565b601f016020900490600052602060002090810190611c739190611bde565b5b50565b600082601f8301121515611c8a57600080fd5b8135611c9d611c9882612429565b6123fc565b9150818183526020840193506020810190508360005b83811015611ce35781358601611cc98882611ced565b845260208401935060208301925050600181019050611cb3565b5050505092915050565b600082601f8301121515611d0057600080fd5b8135611d13611d0e82612451565b6123fc565b91508082526020830160208301858383011115611d2f57600080fd5b611d3a838284612510565b50505092915050565b600082601f8301121515611d5657600080fd5b8135611d69611d648261247d565b6123fc565b91508082526020830160208301858383011115611d8557600080fd5b611d90838284612510565b50505092915050565b6000611da58235612500565b905092915050565b6000611db98251612500565b905092915050565b600060208284031215611dd357600080fd5b600082013567ffffffffffffffff811115611ded57600080fd5b611df984828501611c77565b91505092915050565b600060208284031215611e1457600080fd5b600082013567ffffffffffffffff811115611e2e57600080fd5b611e3a84828501611d43565b91505092915050565b60008060408385031215611e5657600080fd5b600083013567ffffffffffffffff811115611e7057600080fd5b611e7c85828601611d43565b925050602083013567ffffffffffffffff811115611e9957600080fd5b611ea585828601611d43565b9150509250929050565b60008060008060808587031215611ec557600080fd5b600085013567ffffffffffffffff811115611edf57600080fd5b611eeb87828801611d43565b945050602085013567ffffffffffffffff811115611f0857600080fd5b611f1487828801611d43565b9350506040611f2587828801611d99565b9250506060611f3687828801611d99565b91505092959194509250565b600060208284031215611f5457600080fd5b6000611f6284828501611d99565b91505092915050565b600060208284031215611f7d57600080fd5b6000611f8b84828501611dad565b91505092915050565b60008060408385031215611fa757600080fd5b6000611fb585828601611d99565b925050602083013567ffffffffffffffff811115611fd257600080fd5b611fde85828601611c77565b9150509250929050565b60008060408385031215611ffb57600080fd5b600061200985828601611d99565b925050602061201a85828601611d99565b9150509250929050565b60008060006060848603121561203957600080fd5b600061204786828701611d99565b935050602061205886828701611d99565b925050604084013567ffffffffffffffff81111561207557600080fd5b61208186828701611c77565b9150509250925092565b6000612096826124b6565b808452602084019350836020820285016120af856124a9565b60005b848110156120e85783830388526120ca83835161213e565b92506120d5826124d7565b91506020880197506001810190506120b2565b508196508694505050505092915050565b612102816124e4565b82525050565b6000612113826124cc565b80845261212781602086016020860161251f565b61213081612552565b602085010191505092915050565b6000612149826124c1565b80845261215d81602086016020860161251f565b61216681612552565b602085010191505092915050565b6000601882527fe7bc96e7a081e7b1bbe59e8be5b09ae69caae694afe68c8100000000000000006020830152604082019050919050565b6000600f82527fe69caae689bee588b0e8a784e5889900000000000000000000000000000000006020830152604082019050919050565b6000601882527fe8a784e58899e8a7a3e69e90e58f82e695b0e4b88de8b6b300000000000000006020830152604082019050919050565b60006080830160008301518482036000860152612236828261213e565b91505060208301518482036020860152612250828261213e565b91505060408301516122656040860182612283565b5060608301516122786060860182612283565b508091505092915050565b61228c816124f0565b82525050565b600060208201905081810360008301526122ac818461208b565b905092915050565b60006020820190506122c960008301846120f9565b92915050565b600060208201905081810360008301526122e98184612108565b905092915050565b6000602082019050818103600083015261230a81612174565b9050919050565b6000602082019050818103600083015261232a816121ab565b9050919050565b6000602082019050818103600083015261234a816121e2565b9050919050565b6000602082019050818103600083015261236b8184612219565b905092915050565b60006020820190506123886000830184612283565b92915050565b60006040820190506123a36000830185612283565b81810360208301526123b5818461208b565b90509392505050565b60006060820190506123d36000830186612283565b6123e06020830185612283565b81810360408301526123f2818461213e565b9050949350505050565b6000604051905081810181811067ffffffffffffffff8211171561241f57600080fd5b8060405250919050565b600067ffffffffffffffff82111561244057600080fd5b602082029050602081019050919050565b600067ffffffffffffffff82111561246857600080fd5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff82111561249457600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b60008115159050919050565b600063ffffffff82169050919050565b600063ffffffff82169050919050565b82818337600083830152505050565b60005b8381101561253d578082015181840152602081019050612522565b8381111561254c576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a723058206dad61005ef0facea84e852b4a3315aac5f84bca04d4ea56df7cf4b5eabe02bd6c6578706572696d656e74616cf5003700000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000fd851fbbb503cf9a0d6f0a6b5b7db073ddbc5daf00000000000000000000000047417dd1835f07a06ad93b4a262a7dd75b7cd550000000000000000000000000568eae6fcac7c10bfd5258730cd20b0ed90dbc600000000000000000000000004254d2c7cd741ab3ff4b4c3ce97caed642be6bef0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000005616c6963650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003626f620000000000000000000000000000000000000000000000000000000000 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
```

返回：
```
{
  "id": 4,
  "jsonrpc": "2.0",
  "result": {
    "hash": "0x1f6d8f94b3403ed9bfb7f21ff2b84f2c88dbf5ca3194d3b466f6c377cdc09ef7",
    "status": "OK"
  }
}
```

获取合约地址：
```
./cita-cli rpc getTransactionReceipt \
    --hash 0x1f6d8f94b3403ed9bfb7f21ff2b84f2c88dbf5ca3194d3b466f6c377cdc09ef7 \
    --url https://testnet.citahub.com
```

得到合约地址：0xf5035f383cf15814f28082df7a4492829d02eca8


### 调用合约

#### 获取合约方法 hashes
```
solc audit/audit.sol --hashes
```

返回：
```
======= audit/audit.sol:Audit =======
Function signatures:
e7e4cfb7: addEvent(uint32,uint32,string[])
bed34bba: compareStrings(string,string)
9982924c: getAuditee(uint32)
adcdaca8: getMaintainers(uint32)
8206d49f: getProject(uint32)
10f25ff0: queryEvents(uint32)
fef6d444: registerAuditee(string)
a7a6f067: registerProject(string,uint32,uint32)
7ee57bdd: registerRules(string[])
04536686: validateRules(uint32,string[])

======= audit/rules.sol:Rules =======
Function signatures:
bed34bba: compareStrings(string,string)
7ee57bdd: registerRules(string[])
04536686: validateRules(uint32,string[])
```

#### 录入审计当事人

获取字符串 "yucong" abi编码，作为当事人名字。
```
./cita-cli ethabi encode params --param string yucong
```

返回：
```
000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000067975636f6e670000000000000000000000000000000000000000000000000000
```

调用合约方法 registerAuditee：
```
./cita-cli rpc sendRawTransaction \
    --code 0xfef6d444000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000067975636f6e670000000000000000000000000000000000000000000000000000 \
    --address 0xf5035f383cf15814f28082df7a4492829d02eca8 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
```

返回：
```
{
  "id": 4,
  "jsonrpc": "2.0",
  "result": {
    "hash": "0x3120741475258eb291cf471f2d9e98062fd5639a033cc2729aa7635cd0d05b47",
    "status": "OK"
  }
}
```

查看存根：
```
./cita-cli rpc getTransactionReceipt \
    --hash 0x3120741475258eb291cf471f2d9e98062fd5639a033cc2729aa7635cd0d05b47 \
    --url https://testnet.citahub.com
```

获得注册的审计人ID：
```
0x0000000000000000000000000000000000000000000000000000000000000000
```

#### 录入规则

获取参数 ["AND", "Time", "(>= 9) AND (<= 18)", "Location", "IN(39.9 116.3 1000)"] abi编码，作为规则内容。
```
./cita-cli ethabi encode params --param string "[\"AND\", \"Time\", \"(>= 9) AND (<= 18)\", \"Location\", \"IN(39.9 116.3 1000)\"]"
```

返回：
```
0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000003414e440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000454696d65000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000084c6f636174696f6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013400000000000000000000000000000000000000000000000000000000000000
```

调用合约方法 registerRules：
```
./cita-cli rpc sendRawTransaction \
    --code 0x7ee57bdd0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000003414e440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000454696d65000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000084c6f636174696f6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013400000000000000000000000000000000000000000000000000000000000000 \
    --address 0xf5035f383cf15814f28082df7a4492829d02eca8 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
```

返回：
```
{
  "id": 4,
  "jsonrpc": "2.0",
  "result": {
    "hash": "0x0f8b701f109ea9c8523986870f15d77e2f97a338f5de7417fe83594b180e05e5",
    "status": "OK"
  }
}
```

查看存根：
```
./cita-cli rpc getTransactionReceipt \
    --hash 0x0f8b701f109ea9c8523986870f15d77e2f97a338f5de7417fe83594b180e05e5 \
    --url https://testnet.citahub.com
```

获得注册的RuleID：
```
0x0000000000000000000000000000000000000000000000000000000000000000
```

#### 录入项目

获取参数 detail:"yucong_project", auditeeID:"0", relationID:"0" abi编码。
```
./cita-cli ethabi encode params --param string yucong_project --param uint32 0 --param uint32 0
```

返回：
```
000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e7975636f6e675f70726f6a656374000000000000000000000000000000000000
```

调用合约方法 registerProject：
```
./cita-cli rpc sendRawTransaction \
    --code 0xa7a6f067000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e7975636f6e675f70726f6a656374000000000000000000000000000000000000 \
    --address 0xf5035f383cf15814f28082df7a4492829d02eca8 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
```

返回：
```
{
  "id": 4,
  "jsonrpc": "2.0",
  "result": {
    "hash": "0x978b74325a30b8dc2cf43fb8a978e41f6222e5660e662582cab531be00d9a09d",
    "status": "OK"
  }
}
```

查看存根：
```
./cita-cli rpc getTransactionReceipt \
    --hash 0x978b74325a30b8dc2cf43fb8a978e41f6222e5660e662582cab531be00d9a09d \
    --url https://testnet.citahub.com
```

获得注册的项目ID：
```
0x0000000000000000000000000000000000000000000000000000000000000000
```


#### 新增审计事件

获取参数 auditeeID:1, projectID:1, value:["Time","2","Location","4"] abi编码。
```
./cita-cli ethabi encode params --param uint32 0 --param uint32 0 --param string "["Time","2","Location","4"]"
```

返回：
```
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000454696d65000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000084c6f636174696f6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013400000000000000000000000000000000000000000000000000000000000000
```

调用合约方法 registerProject：
```
./cita-cli rpc sendRawTransaction \
    --code 0xe7e4cfb70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000454696d65000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000084c6f636174696f6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013400000000000000000000000000000000000000000000000000000000000000 \
    --address 0xf5035f383cf15814f28082df7a4492829d02eca8 \
    --private-key 0xae469f2a07999b3ed42728b7afff2e1219441a0ef65f5e6192f2d8f0a47601b1 \
    --url https://testnet.citahub.com
```

返回：
```
{
  "id": 4,
  "jsonrpc": "2.0",
  "result": {
    "hash": "0x60db82e49ef1f899cc23e7daf8da55874cdd21b663bf78a595dd7f3ff76b3b9d",
    "status": "OK"
  }
}
```

查看存根：
```
./cita-cli rpc getTransactionReceipt \
    --hash 0x60db82e49ef1f899cc23e7daf8da55874cdd21b663bf78a595dd7f3ff76b3b9d \
    --url https://testnet.citahub.com
```

可获取被验证的审计事件：
```
0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000
```

## 参考链接

1. [cita-cil 使用文档](https://github.com/citahub/cita-cli)
2. [solidity 官方文档](https://solidity-cn.readthedocs.io/zh/develop/index.html)

